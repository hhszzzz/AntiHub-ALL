接口,作用,后端触发代码文件,插件段代码所在地,是否迁移
"POST /api/plugin-api/oauth/authorize","生成并返回 OAuth 授权 URL（用于账号授权/登录流程）","AntiHub-Backend/app/api/routes/plugin_api.py:get_oauth_authorize_url ; AntiHub-Backend/app/services/plugin_api_service.py:PluginAPIService.get_oauth_authorize_url","临时-勿提交git-plugin/src/server/routes.js:283","已迁移"
"POST /api/plugin-api/oauth/callback","提交 OAuth callback URL 完成授权（手动粘贴回调URL场景）","AntiHub-Backend/app/api/routes/plugin_api.py:submit_oauth_callback ; AntiHub-Backend/app/services/plugin_api_service.py:PluginAPIService.submit_oauth_callback","临时-勿提交git-plugin/src/server/routes.js:379","已迁移"
"GET /api/plugin-api/models","OpenAI 兼容模型列表（plugin-api 专用入口）","AntiHub-Backend/app/api/routes/plugin_api.py:get_models ; AntiHub-Backend/app/services/plugin_api_service.py:PluginAPIService.get_models","临时-勿提交git-plugin/src/server/routes.js:1517","已迁移"
"POST /api/plugin-api/chat/completions","OpenAI 兼容聊天补全（plugin-api 专用入口，支持 stream=true）","AntiHub-Backend/app/api/routes/plugin_api.py:chat_completions -> AntiHub-Backend/app/api/routes/v1.py:chat_completions","临时-勿提交git-plugin/src/server/routes.js:1607","已迁移"
"POST /api/plugin-api/v1beta/models/{model}:generateContent","Gemini 图片生成（旧 plugin-api 口，走 /v1beta generateContent）","AntiHub-Backend/app/api/routes/plugin_api.py:generate_content ; AntiHub-Backend/app/services/plugin_api_service.py:PluginAPIService.generate_content","临时-勿提交git-plugin/src/server/routes.js:2528 ; 临时-勿提交git-plugin/src/server/routes.js:2420","已迁移"
"GET /v1/models","OpenAI 兼容模型列表（当 config_type=antigravity/默认时会转发到 plugin 的 /v1/models；其它 config_type 走本地/其它服务）","AntiHub-Backend/app/api/routes/v1.py:list_models ; AntiHub-Backend/app/services/plugin_api_service.py:PluginAPIService.get_models ; AntiHub-Backend/app/services/qwen_api_service.py:QwenAPIService.openai_list_models","临时-勿提交git-plugin/src/server/routes.js:1517","已迁移"
"POST /v1/messages","Anthropic Messages API 兼容：转换为 OpenAI chat/completions 并转发（非 kiro 通道时）","AntiHub-Backend/app/api/routes/anthropic.py:create_message/_create_message_impl ; AntiHub-Backend/app/services/plugin_api_service.py:PluginAPIService.openai_chat_completions_stream ; AntiHub-Backend/app/services/qwen_api_service.py:QwenAPIService.openai_chat_completions_stream","临时-勿提交git-plugin/src/server/routes.js:1607","已迁移"
"POST /cc/v1/messages","Claude Code 兼容 Messages：同 /v1/messages，但会缓冲 SSE 以填充真实 tokens（非 kiro 通道时）","AntiHub-Backend/app/api/routes/anthropic.py:create_message_cc/_create_message_impl ; AntiHub-Backend/app/services/plugin_api_service.py:PluginAPIService.openai_chat_completions_stream ; AntiHub-Backend/app/services/qwen_api_service.py:QwenAPIService.openai_chat_completions_stream","临时-勿提交git-plugin/src/server/routes.js:1607","已迁移"
"POST /v1beta/models/{model}:generateContent","Gemini v1beta 兼容 generateContent：当 config_type=antigravity 时转换为 OpenAI chat/completions 并转发","AntiHub-Backend/app/api/routes/gemini.py:generate_content(antigravity) ; AntiHub-Backend/app/services/plugin_api_service.py:PluginAPIService.openai_chat_completions","临时-勿提交git-plugin/src/server/routes.js:1607","已迁移"
"POST /v1beta/models/{model}:streamGenerateContent","Gemini v1beta 兼容 streamGenerateContent：当 config_type=antigravity 时转换为 OpenAI chat/completions 并转发（SSE）","AntiHub-Backend/app/api/routes/gemini.py:stream_generate_content(antigravity) ; AntiHub-Backend/app/services/plugin_api_service.py:PluginAPIService.openai_chat_completions_stream","临时-勿提交git-plugin/src/server/routes.js:1607","已迁移"
"POST /api/auth/login（副作用）","登录成功后若用户无 plugin_api_keys 记录：自动创建 plug-in 用户并保存 API key（失败不影响登录）","已删除：AntiHub-Backend/app/api/routes/auth.py:login","临时-勿提交git-plugin/src/server/routes.js:126","已删除"
"启动时 ensure_admin_user（副作用）","启动初始化管理员账号后：自动创建 plug-in 用户并保存 API key（失败不影响管理员创建）","已删除：AntiHub-Backend/app/utils/admin_init.py:ensure_admin_user","临时-勿提交git-plugin/src/server/routes.js:126","已删除"
"（无公开接口）PluginAPIService.get_user_info","读取上游 plug-in-api 当前 key 对应的用户信息（/api/user/me）","已删除：AntiHub-Backend/app/services/plugin_api_service.py:PluginAPIService.get_user_info","临时-勿提交git-plugin/src/server/routes.js:99","已删除"
"（无公开接口）PluginAPIService.update_cookie_preference","更新上游用户 prefer_shared（/api/users/:user_id/preference；后端路由侧目前直接 410）","已删除：AntiHub-Backend/app/services/plugin_api_service.py:PluginAPIService.update_cookie_preference","临时-勿提交git-plugin/src/server/routes.js:222","已删除"
"（无公开接口）PluginAPIService.generate_content_stream","Gemini 图片生成（SSE 包装 + 心跳；当前无路由调用）","已删除：AntiHub-Backend/app/services/plugin_api_service.py:PluginAPIService.generate_content_stream","临时-勿提交git-plugin/src/server/routes.js:2528 ; 临时-勿提交git-plugin/src/server/routes.js:2420","已删除"
